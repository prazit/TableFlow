<!DOCTYPE html>
<html>
<f:view xmlns="http://www.w3.org/1999/xhtml"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:p="http://primefaces.org/ui"
        xmlns:ui="http://java.sun.com/jsf/facelets">

    <h:head>
        <title>TFlow Editor</title>

        <meta charset="utf-8"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>

        <h:outputStylesheet library="css" name="editor.css${editorCtl.forceReloadResources}" target="head"/>
    </h:head>
    <h:body>
        <h:outputScript library="js" name="editor.js${editorCtl.forceReloadResources}" target="head"/>

        <div class="container">
            <ui:include src="resources/exceptionMessage.xhtml"/>
            <ui:include src="resources/topMenu.xhtml"/>
            <div class="screen-area">
                <p:splitter id="tool-splitter" styleClass="p-mb-3" gutterSize="5">
                    <p:splitterPanel styleClass="left-panel p-d-flex p-ai-center p-jc-center" minSize="15" size="15">
                        <p:panel header="Step List" styleClass="tool-panel">
                            <f:facet name="actions">
                                <p:commandButton id="leftToggle" type="button"
                                                 styleClass="left-panel-toggle close"
                                                 icon="pi pi-times"/>
                            </f:facet>
                            [ Content Here ]
                        </p:panel>
                    </p:splitterPanel>

                    <p:splitterPanel styleClass="main-panel p-d-flex p-ai-center p-jc-center" minSize="15" size="70">
                        <p:panel header="" styleClass="tool-panel">
                            <f:facet name="actions">
                                <h:form id="actionForm">
                                    <p:menubar>
                                        <p:submenu label="Add">
                                            <p:menuitem value="DB Connection..." icon="pi pi-fw pi-plus" actionListener="${editorCtl.addDataSource}"/>
                                            <p:divider/>
                                            <p:menuitem value="Data Table..." icon="pi pi-fw pi-plus" actionListener="${editorCtl.addDataTable}"/>
                                            <p:menuitem value="Transform Table..." icon="pi pi-fw pi-plus"/>
                                            <p:divider/>
                                            <p:menuitem value="Column..." icon="pi pi-fw pi-plus"/>
                                            <p:menuitem value="Output..." icon="pi pi-fw pi-plus"/>
                                            <p:menuitem value="Transformation..." icon="pi pi-fw pi-plus"/>
                                            <p:divider/>
                                            <p:menuitem value="testWriteSerialize" icon="pi pi-fw pi-plus"
                                                        actionListener="${editorCtl.testWriteSerialize}"/>
                                            <p:menuitem value="testReadSerialize" icon="pi pi-fw pi-plus"
                                                        actionListener="${editorCtl.testReadSerialize}"/>
                                        </p:submenu>

                                        <p:submenu label="Edit">
                                            <p:menuitem value="Undo" icon="pi pi-fw pi-undo"/>
                                            <p:menuitem value="Redo" icon="pi pi-fw pi-redo"/>
                                            <p:divider/>
                                            <p:menuitem value="History..." icon="pi pi-fw pi-list"/>
                                        </p:submenu>

                                        <p:divider layout="vertical"/>

                                        <p:submenu label="View">
                                            <p:menuitem value="Step List" icon="pi pi-fw pi-list"
                                                        onclick="toggleLeft()"/>
                                            <p:menuitem value="Property List" icon="pi pi-fw pi-list"
                                                        onclick="toggleRight()"/>
                                        </p:submenu>

                                        <p:divider layout="vertical"/>

                                        <p:menuitem styleClass="zoom-factor">
                                            <p:outputLabel value="Zoom : "/>
                                            <p:inputNumber id="zoomFactor" value="100" symbol="%" symbolPosition="s"
                                                           required="true" emptyValue="100"
                                                           onkeyup="zoomStart();zoomEnd();"/>
                                        </p:menuitem>

                                        <p:menuitem styleClass="zoom-factor">
                                            <p:slider for="zoomFactor" value="100" minValue="25" maxValue="200"
                                                      step="0.01" range="max" onSlideStart="zoomStart()"
                                                      onSlide="zoom()" onSlideEnd="zoomEnd()"/>
                                        </p:menuitem>
                                    </p:menubar>

                                </h:form>
                            </f:facet>

                            <iframe id="flowchart" src="flowchart.xhtml"></iframe>

                        </p:panel>
                    </p:splitterPanel>

                    <p:splitterPanel styleClass="right-panel p-d-flex p-ai-center p-jc-center" minSize="15" size="15">
                        <p:panel header="Property List" styleClass="tool-panel">
                            <f:facet name="actions">
                                <p:commandButton id="rightToggle" type="button"
                                                 styleClass="right-panel-toggle close"
                                                 icon="pi pi-times"/>
                            </f:facet>
                            [ Content Here ]
                        </p:panel>
                    </p:splitterPanel>
                </p:splitter>
            </div>
        </div>
    </h:body>
</f:view>
</html>
