# TODO LIST

----

:heavy_check_mark:, :white_check_mark: = completed

:x: = cancelled

:car: = in progress, running

:question: = need to run again later

| Done               | Task                                                                                            | Remark                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|:------------------:| ----------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| :heavy_check_mark: | Write to files: <br />need design of file structure                                             | see: **File Structure.md**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| :heavy_check_mark: | need storage selection                                                                          | storages: (embedded or dbms) sqlite, berkeley, file or mongo, java-db<br /><br />**file system** is the best choice (fastest query time when have large amount of objects)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| :heavy_check_mark: | need technology selection                                                                       | back end: **REST** or learn more about MicroService(both client browser and server), Kafka (event queue) and friends                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| :x:                | need POC: **see POC topic below**                                                               | + :white_check_mark: (kafka connection instead) make sure REST work between Front-End and Back-End<br />+ :question: make sure the Write Command Queue Manager can run on another Thread and the Thread is never die.<br />+ :question: make sure we can run the first command without changes to the Queue until the command is in Succuss state.<br/><br/><**br/>:x: POC not passed:** lets use pure Kafka libs<br/>caused:> found big error from Micronaut Gradle Plugin<br/>need to learn more:> gradle build tool, groovy language used in gradle<br />lets try again later:> [Kafka and the Micronaut Framework - Event-Driven Applications](https://guides.micronaut.io/latest/micronaut-kafka-gradle-java.html)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| :white_check_mark: | need Write Queue System, <br />no wait time for Write, <br />guarantee no fail for Write <br /> | back end: **Write Command Service** is an easy to create, create it without any lib. (when failed need rerun first queue again until it success) <br />+ need low storage alert (show at the Project Selection step before open project)<br />+ need to lock all change when open Project with an storage alert<br />+ need to lock all change when open Working Project (already open by another session) and need to know who working on the Project *(this feature can use the push notification from working session to see real time change from the working session)<br />*+ all Write Command will using the Write Command Queue. **Write Command is a command to make some changes to the Step object.**<br />front end event: send write command at every changes that made to Step object.<br/><br/>+ :white_check_mark: create Serverless App to act as Kafka Consumer before put the command to the Queue<br/>+ :white_check_mark: test Consumer to know about Group-ID<br/>+ :white_check_mark: test Consumer to know about Key: how it work:question:<br/>+ :white_check_mark: need single function for project write commands<br/>+ :white_check_mark: all UI-Commands need to call Project Write Commands using Kafka Message<br/>+ :arrow_forward:  choose technology to use for the Queue (see C:\Users\prazi\Documents\GitHub\JavaConcerrentAnimated\ConcurrentExampleLauncher.bat) |
|                    | need list of **possible errors** on the Write Command after queued                              | + storage alerted: no write command is allowed (no insufficient storage, no quota exceeded)<br />+ internal: I/O Exceptions (such NAS access failed)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| :white_check_mark: | need separated service for other commands (Non Write Command)                                   | back end: **Read Command Service** is an easy to create, create it without any lib. (kafka stream is needed)<br/>+ [:white_check_mark:] create Serverless App to act as Kafka Consumer<br/>+ [:white_check_mark:] need single function for project read commands<br/>+ [:white_check_mark:] change all producer type to use ObjectSerializer need to test twcmd again<br/>+ [:white_check_mark:] change all producer type to use ObjectSerializer need to test trcmd<br/>+ [:car:] <mark>ProjectDataManager.getProject(open project) need to call Project Read Commands using Kafka</mark><mark>****TODO: need more test, need no duplicate/rerun message***</mark><br/>+ :arrow_forward:  choose technology to use for the Queue (see C:\Users\prazi\Documents\GitHub\JavaConcerrentAnimated\ConcurrentExampleLauncher.bat)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| :anchor:           |                                                                                                 | back end: **Administrator Service**<br />+ all about user, authentication and authorization<br />+ act as URL provider/front end registration (all service URLs need to fetch from this service at start of front-end) need front-end Token to Control number of Servers                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| :white_check_mark: | design                                                                                          | + Package Data : need to know differents of Binary File Structure for each Project Type<br/>+ Project-Type Enum                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |

## 

## POC: ~~MICRONAUT +~~ KAFKA

| :heavy_check_mark: | Todo                          | Remark                                                                                                                                                                                                                                                                                                                                                                         |
|:------------------:| ----------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| :heavy_check_mark: | Install KAFKA                 | [Apache Kafka](https://kafka.apache.org/quickstart)                                                                                                                                                                                                                                                                                                                            |
| :heavy_check_mark: | Install Micronaut CLI (tools) | [Micronaut CLI on Windows](https://micronaut-projects.github.io/micronaut-starter/latest/guide/#installWindows)<br />Installed:> C:\Users\prazi\Documents\GitHub\Micronaut\micronaut-cli-3.3.4                                                                                                                                                                                 |
| :heavy_check_mark: | Create POC project            | + goto this link: [Micronaut Kafka (micronaut-projects.github.io)](https://micronaut-projects.github.io/micronaut-kafka/latest/guide/)<br />+ find topic: Kafka Messaging Application<br />+ follow commands in this topic<br /><br />created:> C:\Users\prazi\Documents\GitHub\Micronaut\POC\poc-kafka-app\                                                                   |
| :heavy_check_mark: | Create Test Case              | :white_check_mark: normal activity is work<br />+ start kafka and then start more Consumers<br />+ start Producer to create message and see the Consumer logs<br /><br />                                                                                                                                                                                                      |
| :anchor:           | Create Test Case              | [:anchor:] need to know: message always available or not (start stop kafka)<br />+ start kafka and then add more messages by Producer without Consumer<br />+ restart kafka and then start Consumer to see all the messages                                                                                                                                                    |
| :exclamation:      | Create Test Case              | [:exclamation:] need to know producer connection state (issue: send message when the kafka server is down the message will not automatic resend that make some missing messages)<br/>+ need list of missing messages to send again after kafka is back<br/>+ :car: see: [Data Structure - Kafka.md](C:\Users\prazi\Documents\GitHub\TFlow\documents\Data Structure - Kafka.md) |

----

-- end of document --
